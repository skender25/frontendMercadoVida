<div id="mySidenav" class="sidenav">
    <a href="javascript:void(0)" class="closebtn" (click)="closeNav()">&times;</a>
    <h5>Carrito de compras
    </h5>
    <hr>
    <div class="card product" *ngIf="cart.total === 0">
        <p > En este momento tu carrito de compras está vacío, para añadir elementos dirijase a la sección de prductos y presione el boton 'añadir a la cesta'</p>
    </div>
    <div *ngFor="let product of cart.products" class="card product"> 
      <div class="row">
        <div class="col-lg-2">
          <img class="img-fluid" [src]="product.img" [alt]="product.name">
          <button class="btn btn-sm btn-danger mt-2 " (click)="clearItem(product)"> <i class="fas fa-times"></i>
          </button>
        </div>
        <div class="col-lg">
          <div class="row">
            <div class="col-lg-9">
              <h6>{{product.name}}</h6>
              <shop-qty-selector
              [qty]="product.qty"
              [stock]="product.stock"
              (updateValue)="changeValue($event, product)"
              >
              </shop-qty-selector>
            </div>
            <div class="col-lg">
              <ng-template #noDiscount>
                <div class="price">
                  ₡ {{product.price}}
                </div>
              </ng-template>
              <div class="price" *ngIf="product.discount; else noDiscount">
                ₡ {{product.priceDiscount | number}}
                <br>
                 <span>
                  ₡ {{product.price | number}}
                 </span>
                 <br>
                 <span class="discount-percentage">
                    ({{product.discount}} %)
                 </span>
              </div>
            </div>
          </div>
        </div>
      </div>
  </div>
  <div class=" row product" *ngIf="cart.total > 0">
    <div class="col-lg-5">
      Subtotal: {{cart.subtotal}}
    </div>
    <div class="col-lg">
      Total a pagar:   <span class="text-primary float-right price-total" > ₡ {{cart.total | number}}</span>
    </div>
  </div>
  <hr>
  <div class="ml-5 mr-5" *ngIf="cart.total > 0">
    <button class="btn btn-danger mr-2" (click)="clear()"> <i class="fa fa-trash" aria-hidden="true"></i> &nbsp; Cancelar pedido</button>
    <button class="btn  btn-success float-right mr-2" (click)="finalizarPedido()"> <i class="fas fa-check"></i> &nbsp; Realizar pedido </button>
  </div>
  </div>
 
  <div id="overlay"></div>
